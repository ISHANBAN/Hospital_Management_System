{% extends 'layout.html' %}
{% block title %}Appointment Detail{% endblock %}

{% block content %}
<h1>Appointment Detail</h1>

<p><strong>Date & Time:</strong> {{ appointment.datetime }}</p>
<p><strong>Patient:</strong> {{ appointment.patient.name or appointment.patient.username }}</p>
<p><strong>Status:</strong> {{ appointment.status }}</p>

<hr>

<h2>Treatment</h2>

<form method="POST">
  <label>Diagnosis:</label><br>
  <textarea name="diagnosis" rows="3" cols="60">{{ appointment.treatment.diagnosis if appointment.treatment else '' }}</textarea>
  <br><br>

  <label>Prescription:</label><br>
  <textarea name="prescription" rows="3" cols="60">{{ appointment.treatment.prescription if appointment.treatment else '' }}</textarea>
  <br><br>

  <label>Notes:</label><br>
  <textarea name="notes" rows="3" cols="60">{{ appointment.treatment.notes if appointment.treatment else '' }}</textarea>
  <br><br>

  <button type="submit">Save Treatment</button>
</form>

<p><a href="{{ url_for('doctor_dashboard') }}">Back to Dashboard</a></p>
{% endblock %}
